# CS50 Brawl Stars
#### Video Demo: https://youtu.be/GJBsmDKp15M?si=yu5XgZgHiJj1N4Dk
#### Description:
### Overview
My project is a website that allows for people that play the game Brawl Stars to record some of their account data in a database to store and use for analysis. Each player creates an account and after logging in, they are led to a homepage that gives them an overview of some of their main stats for their account. They can add matches they played on the game to their account, inputting some key information about the game. Based on the games the user added, they can use the statistics tab to create lists that order the brawlers they have based on multiple filters. The leaderboard tab creates multiple lists for many categories for all made accounts. The user can use the search tab to look up the username of a player and display their stats. Lastly, the update account tab allows the user to change aspects of their account with some requirements. The website is displayed through multiple html files that are each rendered at different times depending on the route taken.
### Database Memory:
I am storing all of the website’s memory using multiple tables in a database called brawl_stars.db. There are three tables in this database: user, brawlers, and user_brawlers. The user table holds all the created accounts for players, holding a unique username, their password as a secure password, their trophy number, and the id of each account serving as a primary key. The brawlers table is used to store the name of each brawler currently in the game, each holding its own unique id as the primary key. The last table, user_brawlers, is the table that holds information on each brawler each account currently has unlocked. It uses a many-to-many relationship that stores a user_id and brawler_id for each row, using foreign keys that reference the other two tables. Each row also holds info such as games played, wins, losses, kills, and deaths.  This database will store all the data to be used for each function of my website.
### Create User:
With this route, I ask the user to create a username, a password, its confirmation, and to input its trophies as well as the brawlers they have unlocked. I use a query to check if the username they tried is already used and also make sure that their trophies are a positive integer. I make sure that the password and the confirmation is the same. To avoid users from adding new brawlers that are not real, I made a list of all brawlers to ensure that all the ones selected are in the list. When all criteria are met, I generate a secure password using the generate_password_hash function and add it plus the username and trophies in the user table. For each brawler selected as well, I add a new row in the user_brawlers table with the user_id and brawler_id with all the other statistics set to zero for the row.
### Homepage:
On the homepage of the website, there are queries that look at the user and user_brawlers tables to find information about the user’s account. They find the username and trophy count in the user table and use multiple queries to find the sums of the other game aspects via the user’s id. In the end, they are all displayed in a table for the user to see clearly.
### Add Match:
For this route, I allowed users to add a match to their account and update their stats with it. They can input how many kills they had, how many deaths, and the amount of trophies they won or lost, all needing to be positive integers. They also input whether they won or lost and which brawler they played for the match. The only options available are brawlers that the user has unlocked to ensure integrity. When submitted, the user table is updated to increase or decrease the number of trophies by the amount indicated. In the user_brawlers table, a query is used with the user’s id and the brawler’s id they chose to update the kills, deaths, wins or losses, and games columns on the row that matches both ids. With this, all statistics are specific to each brawler but can later be combined to find the main stats in the homepage.
### Statistics:
With this route, the user is able to select a topic (games, wins, kills, losses, deaths), the tail of the list (top or bottom), and how many brawlers they want for the list (can’t be more than currently unlocked brawlers). The first two have a pre-made list to ensure that the user does not create new options that do not work in the queries. If all things are valid, the code runs one of many possible queries depending on the options selected, changing with respect to the ORDER BY, ASC or DESC, and LIMIT aspects of the query. Finally, a list is created and is displayed with a separate html file for the user to view the top or bottom brawlers they own in the category they chose.
### Leaderboards:
This route essentially uses queries to find the sum of multiple aspects like games, kills, and wins by grouping each row in user_brawlers based on the user_id to find the total for each account made. The totals are organized in descending order so the ones that appear first in the query will have the highest in that stat. By using a LIMIT of 10, I am able to create a top 10 list for these stats for every account created in the database, available for all users to see.
### Search Player:
This route is essentially an extension of the homepage, but instead of only being able to see your own stats, you can search the username of any user in the database and see all the same stats given in the homepage but for that user. However, if the user searches for a username that is not in the user table, they will receive an error message saying that the username does not exist.
### Update Account:
Lastly, the update account route is for users that want to either change their username, password, trophy count, or list of unlocked brawlers. While the other routes require all fields to be filled, this route allows for only a few or even one field to be filled as players might not want to change everything. However, the user cannot change their username to one already used, needs to confirm their password correctly again like when they created the account, and need to include a positive integer for the trophies. In order to update the brawlers currently unlocked, the website creates a list of all brawlers in the user_brawlers table with the user’s id as well to create a new list with all the brawlers not unlocked by the user. These are the only ones displayed in the html file so the user can only unlock brawlers not unlocked yet. When submitted the website will update each new thing within the corresponding tables, for example adding new rows in user_brawlers for each new brawler unlocked.

